(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{157:function(e,t,s){},158:function(e,t,s){},160:function(e,t,s){},166:function(e,t,s){},264:function(e,t,s){},265:function(e,t,s){},292:function(e,t,s){},293:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),i=s(12),c=s.n(i),r=(s(157),s(158),s(21)),o=s(16),l=s(9),u=s(3),d=s(1),j={showLogin:!1,loggedIn:!1,user:{},showSignup:!1,googleToken:"",signUpredirect:!1,Loginredirect:!1,BusinessEdit:{},BusinessEditErrs:{},newBusiness:!1,uploadReady:!1,showReview:!1,businessID:"",showYelp:!1},b=a.a.createContext(j);var p=function(e){var t=Object(n.useState)(j),s=Object(l.a)(t,2),a=s[0],i=s[1];return Object(d.jsx)(b.Provider,{value:{authState:a,setAuthState:i},children:e.children})},m=s(23);s(160);var h=Object(o.g)((function(e){var t=Object(m.useMediaQuery)({minWidth:1050},void 0,(function(){p(!0)})),s=Object(n.useContext)(b),a=s.authState,i=s.setAuthState,c=Object(n.useState)({value:!0}),o=Object(l.a)(c,2),j=o[0],p=o[1];function h(){a.showLogin?i((function(e){return Object(u.a)(Object(u.a)({},e),{},{showLogin:!1})})):i((function(e){return Object(u.a)(Object(u.a)({},e),{},{showLogin:!0})}))}function g(){a.showSignup?i((function(e){return Object(u.a)(Object(u.a)({},e),{},{showSignup:!1})})):i((function(e){return Object(u.a)(Object(u.a)({},e),{},{showSignup:!0})}))}function O(){i((function(e){return Object(u.a)(Object(u.a)({},e),{},{loggedIn:!1,user:{}})}))}function f(){p(1!=j)}return!1===a.loggedIn?Object(d.jsx)("div",{children:t?Object(d.jsxs)("div",{className:"navbar ",children:[Object(d.jsxs)("div",{className:"navbar-left",children:[Object(d.jsx)(r.b,{className:"navlink",exact:!0,to:"/",children:"Home"}),Object(d.jsx)(r.b,{className:"navlink",exact:!0,to:"/discover",children:"Discover"})]}),Object(d.jsxs)("div",{className:"navbar-right",style:{whiteSpace:"noWrap"},children:[Object(d.jsx)("div",{className:"navlink",style:{display:"inline-block"},onClick:h,children:"Log in"}),Object(d.jsx)("div",{className:"navlink",style:{display:"inline-block"},onClick:g,children:"Sign up"})]})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{style:{fontSize:"30px",cursor:"pointer",float:"left",marginLeft:"20px",marginTop:"20px",color:"white"},onClick:f,children:"\u2630"}),Object(d.jsxs)("div",{style:{textAlign:"left",width:j?"0px":"50%"},id:"sideNav",children:[Object(d.jsx)("a",{href:"javascript:void(0)",class:"closebtn",onClick:f,children:"\xd7"}),Object(d.jsx)(r.b,{className:"navlink",style:{display:"block"},exact:!0,to:"/",children:"Home"}),Object(d.jsx)(r.b,{className:"navlink",style:{display:"block"},exact:!0,to:"/discover",children:"Discover"}),Object(d.jsx)("div",{className:"navlink",style:{display:"block",whiteSpace:"nowrap"},onClick:h,children:"Log in"}),Object(d.jsx)("div",{className:"navlink",style:{display:"block",whiteSpace:"nowrap"},onClick:g,children:"Sign up"})]})]})}):!0===a.loggedIn?Object(d.jsx)("div",{children:t?Object(d.jsxs)("div",{className:"navbar ",children:[Object(d.jsxs)("div",{className:"navbar-left",children:[Object(d.jsx)(r.b,{className:"navlink",exact:!0,to:"/",children:"Home"}),Object(d.jsx)(r.b,{className:"navlink",exact:!0,to:"/discover",children:"Discover"}),Object(d.jsx)(r.b,{className:"navlink",exact:!0,to:"/dashboard",children:"MyDashboard"})]}),Object(d.jsx)("div",{className:"navbar-right",style:{whiteSpace:"noWrap"},children:Object(d.jsx)("div",{className:"navlink",style:{display:"inline-block"},onClick:O,children:"Log out"})})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{style:{fontSize:"30px",cursor:"pointer",float:"left",marginLeft:"20px",marginTop:"20px",color:"white"},onClick:f,children:"\u2630"}),Object(d.jsxs)("div",{style:{textAlign:"left",width:j?"0px":"22em"},id:"sideNav",children:[Object(d.jsx)("a",{href:"javascript:void(0)",class:"closebtn",onClick:f,children:"\xd7"}),Object(d.jsx)(r.b,{className:"navlink",style:{display:"block"},exact:!0,to:"/",children:"Home"}),Object(d.jsx)(r.b,{className:"navlink",style:{display:"block"},exact:!0,to:"/discover",children:"Discover"}),Object(d.jsx)(r.b,{className:"navlink",style:{display:"block"},exact:!0,to:"/dashboard",children:"MyDashboard"}),Object(d.jsx)("div",{className:"navlink",style:{display:"block",whiteSpace:"nowrap"},onClick:O,children:"Log out"})]})]})}):void 0})),g=(s(166),s(13)),O=s.n(g);var f=function(e){var t=Object(n.useState)(e.default),s=Object(l.a)(t,2),a=s[0],i=s[1];function c(t){t.preventDefault(),O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/businesses",{params:{search:a}}).then((function(t){"string"===typeof t.data?e.setData([]):e.setData(t.data)})).catch((function(e){console.log(e)}))}return Object(d.jsx)("div",{className:"search-bar",children:Object(d.jsxs)("form",{onSubmit:c,style:{display:"inline"},children:[Object(d.jsx)("input",{type:"text",className:"field",placeholder:"search...",defaultValue:e.default,onChange:function(e){i(e.target.value)},id:"temporary"}),Object(d.jsx)("input",{type:"button",className:"searchButton",value:"filter",onClick:c})]})})},v=s(18),x=s.n(v),w=s(28),y=(s(55),s(138)),A=s.n(y);var N=function(e){var t=Object(n.useContext)(b),s=t.authState,a=t.setAuthState,i=null;function c(){a((function(e){return Object(u.a)(Object(u.a)({},e),{},{showLogin:!1,loggedIn:!0})}))}Object(n.useEffect)((function(){i=e.signUporLogin}));var r=function(e){var t=1e3*(e.tokenObj.expires_in||3300),s=function(){var n=Object(w.a)(x.a.mark((function n(){var i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.reloadAuthResponse();case 2:i=n.sent,t=1e3*(i.expires_in||3300),console.log("newAuthRes:",i),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{googleToken:i.access_token})})),localStorage.setItem("authToken",i.id_token),setTimeout(s,t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();setTimeout(s,t)};return Object(d.jsx)(A.a,{clientId:"467227431315-qfa0plniiro21687j2ifupq82cd7j6op.apps.googleusercontent.com",buttonText:e.buttonText,onSuccess:function(e){console.log("success");var t=e.getAuthResponse().id_token;console.log(t),"Login"===i?O.a.post("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/googlelogin",t).then((function(s){!0===s.data.successful?(console.log("Login Success: currentUser:",s),c(),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{googleToken:t,user:s.data,showLogin:!1})})),r(e)):(console.log("User must be redirected to signup page"),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{signUpredirect:!0,showLogin:!1,showSignup:!0})})))})):"Signup"===i&&O.a.post("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/googlesignup",t).then((function(s){!0===s.data.successful?(console.log("Signup Success: currentUser:",s),c(),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{googleToken:t,user:s.data,showSignup:!1})})),r(e)):(console.log("User must be redirected to login page"),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{Loginredirect:!0,showLogin:!0,showSignup:!1})})))}))},onFailure:function(e){console.log(s.loggedIn),console.log("Login failed: res:",e)},cookiePolicy:"single_host_origin"})},B=s(44);var E=function(e){return Object(d.jsx)("div",{className:"error",children:Object(d.jsx)("div",{children:e.errorMsg})})},S=s(92),T=s.n(S),C=s(137),k=s(132),P={handleClickOutside:function(){return D.handleClickOutside}};function D(e){var t=Object(n.useContext)(b),s=t.authState,a=t.setAuthState,i=Object(n.useState)(),c=Object(l.a)(i,2),r=c[0],o=c[1],j=Object(n.useState)(),p=Object(l.a)(j,2),h=p[0],g=p[1],f=Object(n.useState)(),v=Object(l.a)(f,2),y=v[0],A=v[1],B=Object(n.useState)(),S=Object(l.a)(B,2),T=S[0],P=S[1],I=Object(n.useState)(),H=Object(l.a)(I,2),z=H[0],L=H[1],Q=Object(m.useMediaQuery)({minWidth:1224});return Object(n.useEffect)((function(){!0===s.Loginredirect&&(A("Your Google account is registered. Please log in with Google"),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{Loginredirect:!1})})))})),D.handleClickOutside=function(e){a((function(e){return Object(u.a)(Object(u.a)({},e),{},{showLogin:!1})}))},Object(d.jsxs)("div",{className:"login-popup",children:[Object(d.jsx)("div",{style:{fontWeight:"bold",fontSize:"30px",marginTop:"1em"},children:"Sign in to Sprout"}),Object(d.jsx)("div",{style:{marginTop:"1em"},children:Object(d.jsx)(N,{LoggedinStatus:s.loggedIn,buttonText:"Login to Sprout with Google",signUporLogin:"Login"})}),Object(d.jsxs)("form",{className:"login-form",onSubmit:function(e){var t={email:r,password:h};console.log(t);var s=function(e){var t={},s="",n=!0;return e&&"string"===typeof e.password&&0!==e.password.trim().length||(n=!1,t.password="Please provide your password."),e&&"string"===typeof e.email&&0!==e.email.trim().length||(n=!1,t.email="Please provide your email."),n||(s="Check the form for errors."),{success:n,message:s,errors:t}}(t);P(s.errors.email),L(s.errors.password),console.log(s),e.preventDefault(),!0===s.success&&O.a.post("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/login",[r,h]).then(function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),!0===t.data.successful?(console.log("Login Success: currentUser:",t.data),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{showLogin:!1,loggedIn:!0,user:t.data})}))):(console.log("error: "+t.data.error),"googleuser"==t.data.error?A("A Google account already exists with this email. Use Google sign-on."):A(t.data.error));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){A(e.message)}))},children:[Object(d.jsx)(C.a,{size:"medium",placeholder:"email...",margin:"dense",name:"email",label:"email",onChange:function(e){o(e.target.value)},error:T,helperText:T||""}),Object(d.jsx)("br",{}),Object(d.jsx)(C.a,{type:"password",size:"medium",placeholder:"password...",onChange:function(e){g(e.target.value)},margin:"dense",name:"pass",label:"password",error:z,helperText:z||""}),Object(d.jsx)("br",{}),y?Object(d.jsx)(E,{errorMsg:y}):null,Object(d.jsx)("br",{}),Object(d.jsx)(k.a,{style:{width:Q?"20%":"40%",height:Q?"auto":"4em",marginTop:"3em",fontWeight:"bold"},className:"login-btn",size:"small",type:"submit",variant:"contained",children:"Log in"})]})]})}var I=Object(B.a)(D,P),H=s.p+"static/media/leaf.5165c110.png",z={handleClickOutside:function(){return L.handleClickOutside}};function L(e){var t=Object(n.useContext)(b),s=t.authState,a=t.setAuthState,i=Object(n.useState)(),c=Object(l.a)(i,2),r=c[0],o=c[1],j=Object(n.useState)(),p=Object(l.a)(j,2),h=p[0],g=p[1],f=Object(n.useState)(),v=Object(l.a)(f,2),y=v[0],A=v[1],B=Object(n.useState)(),S=Object(l.a)(B,2),P=S[0],D=S[1],I=Object(n.useState)(),H=Object(l.a)(I,2),z=H[0],Q=H[1],R=Object(n.useState)(),q=Object(l.a)(R,2),V=q[0],X=q[1],W=Object(n.useState)(),M=Object(l.a)(W,2),F=M[0],G=M[1],Z=Object(m.useMediaQuery)({minWidth:1224}),J=Object(m.useMediaQuery)({minWidth:900});return Object(n.useEffect)((function(){!0===s.signUpredirect&&(D("Your Google account is not registered. Please sign up with Google first"),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{signUpredirect:!1})})))})),L.handleClickOutside=function(e){a((function(e){return Object(u.a)(Object(u.a)({},e),{},{showSignup:!1})}))},Object(d.jsxs)("div",{className:"Signup-popup",children:[Object(d.jsx)("div",{style:{fontWeight:"bold",fontSize:"30px",marginTop:"1em"},children:"Sign up to Sprout"}),Object(d.jsxs)("div",{style:{marginTop:"3em"},children:[Object(d.jsx)(N,{LoggedinStatus:s.loggedIn,buttonText:"Sign up with Google",signUporLogin:"Signup"})," "]}),Object(d.jsxs)("form",{className:"Signup-form",onSubmit:function(e){var t={email:r,password:h,pwconfirm:y};console.log(t);var s=function(e){var t={},s="",n=!0;return e&&"string"===typeof e.email&&T.a.isEmail(e.email)||(n=!1,t.email="Please provide a correct email address."),(!e||"string"!==typeof e.password||e.password.trim().length<8)&&(n=!1,t.password="Password must have at least 8 characters."),e&&e.pwconfirm===e.password||(n=!1,t.pwconfirm="Password confirmation doesn't match."),e&&"string"===typeof e.pwconfirm&&0!==e.pwconfirm.trim().length||(n=!1,t.pwconfirm="Please provide your Password confirmation."),n||(s="Check the form for errors."),{success:n,message:s,errors:t}}(t);Q(s.errors.email),X(s.errors.password),G(s.errors.pwconfirm),console.log(s),e.preventDefault(),!0===s.success&&O.a.post("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/signup",[r,h]).then(function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),!0===t.data.successful?(console.log("Signup Success: currentUser:",t.data),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{showSignup:!1,loggedIn:!0,user:t.data})}))):(console.log("error: "+t.data.error),D(t.data.error));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.message),D(e.message)}))},children:[Object(d.jsx)(C.a,{size:"medium",placeholder:"apple@orange.com....",margin:"dense",name:"email",label:"email",onChange:function(e){o(e.target.value)},error:z,helperText:z||"your email here"}),Object(d.jsx)("br",{}),Object(d.jsx)(C.a,{type:"password",size:"medium",placeholder:"Password...",onChange:function(e){g(e.target.value)},margin:"dense",name:"pass",label:"password",error:V,helperText:V||"at least 8 characters"}),Object(d.jsx)("br",{}),Object(d.jsx)(C.a,{className:"Signup-form input",type:"password",size:"medium",placeholder:"confirm your pass...",onChange:function(e){A(e.target.value)},margin:"dense",name:"pwconfirm",label:"confirm password",error:F,helperText:F||"enter your password to confirm"}),P?Object(d.jsx)(E,{errorMsg:P}):null,Object(d.jsx)("br",{}),Object(d.jsx)(k.a,{style:{width:Z?"20%":"40%",marginTop:"3em",height:Z?"auto":"4em"},className:"Signup-btn",size:"small",type:"submit",variant:"contained",color:"",children:"Sign up"}),!J&&Object(d.jsx)(k.a,{style:{width:Z?"20%":"40%",marginTop:"3em",height:Z?"auto":"4em",marginLeft:"20px"},className:"Signup-btn",size:"small",onClick:L.handleClickOutside,variant:"contained",color:"",children:"Cancel"})]})]})}var Q=Object(B.a)(L,z);var R=function(e){Object(o.f)();var t=Object(n.useContext)(b).authState,s=Object(n.useState)(""),a=Object(l.a)(s,2),i=a[0],c=a[1];function r(t){e.history.push({pathname:"/discover",default:i})}return Object(d.jsxs)("div",{className:"home",children:[t.showLogin?Object(d.jsx)(I,{}):null,t.showSignup?Object(d.jsx)(Q,{}):null,t.showLogin||t.showSignup?Object(d.jsx)("div",{className:"darkened"}):null,Object(d.jsx)(h,{}),Object(d.jsxs)("div",{className:"home-search",children:[Object(d.jsxs)("div",{style:{paddingTop:"10%"},children:[Object(d.jsx)("div",{className:"sprout",children:"Sprout"}),Object(d.jsx)("img",{src:H,className:"logo"})]}),Object(d.jsx)("div",{className:"search-bar",children:Object(d.jsxs)("form",{onSubmit:r,style:{display:"inline"},children:[Object(d.jsx)("input",{type:"text",className:"field",placeholder:"search...",onChange:function(e){c(e.target.value)},id:"temporary"}),Object(d.jsx)("input",{type:"button",className:"searchButton",value:"filter",onClick:r})]})})]})]})},q=(s(264),s.p+"static/media/100.ba47fd12.svg"),V=s.p+"static/media/50.8c4dc5f3.svg",X=s.p+"static/media/0.14b34de4.svg";function W(e){for(var t=[],s=parseFloat(e).toString().split("."),n=Object(l.a)(s,2),a=n[0],i=n[1],c=0;c<a;c++)t.push(100);i&&t.push(50);for(var r=a;r<(i?4:5);r++)t.push(0);return t}function M(e){switch(e){case 100:return q;case 50:return V;case 0:return X}}function F(e){var t=e.value,s=e.widthValue;return Object(d.jsx)("div",{style:{display:"flex",flexWrap:"nowrap"},children:W(t).map((function(e){return Object(d.jsx)("div",{style:{width:s,marginRight:"5px",float:"left",content:"URL(".concat(M(e),")")}})}))})}F.defaultProps={value:0,widthValue:"40px"};var G=F;var Z=Object(o.g)((function(e){return Object(d.jsx)(r.b,{className:"discoverLink",to:"../businesspage/"+e.businessID,children:Object(d.jsxs)("div",{className:"discoverSnippet",children:[Object(d.jsxs)("div",{id:"container",children:[Object(d.jsxs)("div",{className:"leftSide",children:[Object(d.jsx)("p",{className:"title",children:e.businessName}),Object(d.jsxs)("div",{className:"leftData",children:[Object(d.jsx)(G,{value:e.rating,style:{float:"left"}}),e.reviewCount>0&&Object(d.jsxs)("p",{className:"MoreInfo other",children:[e.reviewCount," Reviews"]})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{className:"other",children:[e.phoneNumber,Object(d.jsx)("br",{}),e.address]})]}),Object(d.jsx)("p",{className:"description",children:e.description})]})})}));var J=function(e){var t=Object(n.useContext)(b),s=t.authState,a=(t.setAuthState,Object(n.useState)([])),i=Object(l.a)(a,2),c=i[0],r=i[1],o=Object(n.useState)([]),u=Object(l.a)(o,2),j=u[0],p=u[1],g=Object(m.useMediaQuery)({minWidth:1050}),v=e.location&&e.location.default||"";return Object(n.useEffect)(Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/businesses",{params:{search:v}});case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){c.length>0?p(c.map((function(e){return Object(d.jsx)(Z,{businessID:e.businessID,businessName:e.name,rating:e.average_rating,reviewCount:e.review_count,phoneNumber:e.phone_number,address:e.address,description:e.description})}))):p([])}),[c,s]),Object(d.jsxs)("div",{className:"discover",children:[s.showLogin?Object(d.jsx)(I,{}):null,s.showSignup?Object(d.jsx)(Q,{}):null,s.showLogin||s.showSignup?Object(d.jsx)("div",{className:"darkened"}):null,Object(d.jsx)(h,{}),Object(d.jsxs)("div",{className:"home-search",children:[Object(d.jsx)("div",{style:{paddingTop:"1px"}}),Object(d.jsx)("div",{style:{marginTop:g?"0em":"5em"},children:Object(d.jsx)(f,{setData:r,default:v})}),Object(d.jsx)("div",{style:{paddingTop:"2vh"}}),j]})]})};s(48);function U(e){for(var t="",s=0;s<e;s++)t+="$";return t}var K=function(e){var t=e.name,s=e.startingTime,n=e.endingTime,a=e.category,i=e.rating,c=e.reviewCount,r=e.priceLevel,o=Object(m.useMediaQuery)({minWidth:1224});function l(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")}return Object(d.jsxs)("div",{className:"background",style:{padding:"2vh 2vh 2vh 2vh",marginBottom:0},children:[Object(d.jsx)("div",{className:"leftContent",children:Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsx)("p",{className:"businessName",children:t}),Object(d.jsxs)("p",{className:"subText categoryTime",children:["Open ",l(s)," to ",l(n),Object(d.jsxs)("span",{style:{marginLeft:"25px"},children:[!o&&Object(d.jsx)("br",{})," ",a]})]})]})}),Object(d.jsxs)("div",{className:"rightContent",children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)(G,{value:i}),c>0&&Object(d.jsxs)("p",{style:{margin:"8px 8px"},className:"other",children:[c," ",1==c?"Review":"Reviews"]})]}),Object(d.jsx)("p",{className:"cost",children:U(r)})]})]})};s(265);var Y=function(e){var t=e.username,s=e.reviewCount,n=e.rating,a=e.reviewMessage;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("p",{className:"username",children:t}),1==s&&Object(d.jsx)("p",{className:"reviewCount",children:"1 review"})||n>1&&Object(d.jsxs)("p",{className:"reviewCount",children:[s," reviews"]})]}),n>0&&Object(d.jsx)(G,{widthValue:"25px",value:n}),Object(d.jsx)("p",{className:"reviewText",children:a})]})},_=s.p+"static/media/star-solid.ac354ca6.svg",$=s.p+"static/media/star-regular.8d41e0b0.svg";function ee(e){return e.split("\\n").map((function(e,t){return Object(d.jsxs)("span",{children:[e,Object(d.jsx)("br",{})]},t)}))}var te=function(e){var t=e.currBusinessID,s=e.description,a=e.otherInfo,i=e.phone,c=e.website,r=e.email,o=e.address,j=Object(n.useContext)(b),p=j.authState,m=j.setAuthState,h=Object(n.useState)(""),g=Object(l.a)(h,2),f=g[0],v=g[1],x=Object(n.useState)(),w=Object(l.a)(x,2),y=w[0],A=w[1],N=Object(n.useState)(),B=Object(l.a)(N,2),E=B[0],S=B[1],T="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/isFavorite",C="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/addFavorite",k="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/removeFavorite";function P(e){if(e){v(e.target.title);var s=e.target.title}else{v(1);s=1}O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/getReviews?businessID="+t+"&page="+s).then((function(e){if(console.log(e),"NO RESULTS"!=e.data||p.loggedIn||1!=s)if("NO RESULTS"==e.data&&p.loggedIn&&1==s)A(Object(d.jsx)("div",{style:{textAlign:"left",marginTop:"1em",marginBottom:"1em"},children:"None yet! Be the first to leave a review."}));else if("NO RESULTS"==e.data)A(Object(d.jsx)("div",{style:{textAlign:"left",marginTop:"1em",marginBottom:"1em"},children:"This page is empty, help this business by adding more reviews!"}));else{var t=e.data.map((function(e){var t=e.username.split("@")[0];return Object(d.jsxs)("div",{children:[Object(d.jsx)(Y,{username:t,rating:e.rating,reviewCount:e.numReviews,reviewMessage:e.message}),Object(d.jsx)("hr",{className:"reviewLine"}),Object(d.jsx)("br",{})]})}));A(t)}else A(Object(d.jsx)("div",{style:{textAlign:"left",marginTop:"1em",marginBottom:"1em"},children:"None yet! Be the first to leave a review by logging in."}))})).catch((function(){console.log("error")}))}return Object(n.useEffect)((function(){P(null),O.a.get(T+"?businessID="+t+"&userID="+p.user.userId).then((function(e){S(e.data.isFavorite)})).catch((function(){console.log("error")}))}),[p]),Object(d.jsx)("div",{className:"bottomBackground",style:{padding:"0 2vh 2vh 2vh",marginTop:"0",overflowX:"hidden"},children:Object(d.jsxs)("div",{style:{marginLeft:"1em"},children:[!0===p.loggedIn?Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsx)("input",{className:"button",type:"button",value:"Review",onClick:function(){m((function(e){return Object(u.a)(Object(u.a)({},e),{},{showReview:!p.showReview,businessID:t})}))}}),Object(d.jsx)("input",{className:"button",type:"button",value:E?"Unfavorite":"Favorite",onClick:function(){S(!E),E?O.a.post(k+"?businessID="+t+"&userID="+p.user.userId).then((function(e){})).catch((function(){console.log("error")})):O.a.post(C+"?businessID="+t+"&userID="+p.user.userId).then((function(e){})).catch((function(){console.log("error")})),console.log(E)}}),Object(d.jsx)("img",{src:E?_:$,width:"60px",style:{verticalAlign:"middle",marginBottom:"15px"}})]}):null,p.loggedIn?Object(d.jsx)("hr",{className:"line",style:{width:"80em",marginTop:"1.5em"}}):null,Object(d.jsx)("br",{}),p.loggedIn?Object(d.jsx)("br",{}):null,Object(d.jsxs)("div",{className:"businessData",style:{justifyContent:"space-between"},children:[Object(d.jsx)("div",{className:"businessInfoSection",children:Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsx)("p",{className:"subText",style:{marginTop:"0.2em"},children:"Business Description"}),Object(d.jsx)("p",{style:{width:"95%"},children:ee(s)}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"subText",children:"Other Information"}),Object(d.jsx)("p",{children:ee(a)})]})}),Object(d.jsx)("div",{className:"contactSection",children:Object(d.jsxs)("div",{style:{margin:"1em 1em 0 0",padding:"0 1em 0 1em",border:"solid",borderRadius:"10px",borderWidth:"1px"},children:[Object(d.jsx)("p",{className:"subText",children:"Contact"}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsxs)("div",{className:"contactBlue",style:{textAlign:"left"},children:[Object(d.jsx)("p",{children:i}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("a",{class:"website",target:"_blank",href:c,children:c}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("p",{children:r}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("p",{style:{color:"black"},children:o})]})]})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{className:"line",style:{width:"95%"}}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"subText",style:{textAlign:"left",marginTop:"20px"},children:"Reviews"}),y]}),Object(d.jsxs)("div",{className:"pageSection",children:[Object(d.jsx)("a",{href:"#",title:"1",style:{fontWeight:1==f?"bold":null},onClick:P,children:"1"}),Object(d.jsx)("a",{href:"#",title:"2",style:{fontWeight:2==f?"bold":null},onClick:P,children:"2"}),Object(d.jsx)("a",{href:"#",title:"3",style:{fontWeight:3==f?"bold":null},onClick:P,children:"3"}),Object(d.jsx)("a",{href:"#",title:"4",style:{fontWeight:4==f?"bold":null},onClick:P,children:"4"})]})]})})},se=s(326),ne=s(328),ae=s(329),ie={handleClickOutside:function(){return ce.handleClickOutside}};function ce(e){var t=Object(se.a)({root:{width:200,display:"flex",alignItems:"center"}}),s=Object(n.useState)(2),a=Object(l.a)(s,2),i=a[0],c=a[1],r=Object(n.useState)(-1),o=Object(l.a)(r,2),j=o[0],p=o[1],m=Object(n.useState)(""),h=Object(l.a)(m,2),g=h[0],f=h[1];t();var v=Object(n.useContext)(b),y=v.authState,A=v.setAuthState,N=Object(n.useState)(),B=Object(l.a)(N,2),E=B[0],S=B[1],T="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/addReview";function P(){return(P=Object(w.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.post(T+"?businessID="+y.businessID+"&userID="+y.user.userId+"&rating="+i+"&message="+g).then((function(e){console.log(e)})).then((function(e){console.log(e),A((function(e){return Object(u.a)(Object(u.a)({},e),{},{uploadReady:!0})}))})).catch((function(){console.log("error")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){0==g.length&&S("Please enter the review"),function(){P.apply(this,arguments)}(),ce.handleClickOutside()}return ce.handleClickOutside=function(e){A((function(e){return Object(u.a)(Object(u.a)({},e),{},{showReview:!1})}))},Object(d.jsx)("div",{className:"review-popup",children:Object(d.jsxs)("form",{className:"login-form",onSubmit:D,children:[Object(d.jsx)("div",{style:{fontWeight:"bold",fontSize:"20px",margin:"1em"},children:"Rate Your Experience!"}),Object(d.jsx)(ne.a,{size:"large",name:"hover-feedback",value:i,precision:.5,onChange:function(e,t){c(t)},onChangeActive:function(e,t){p(t)}}),null!==i&&Object(d.jsx)(ae.a,{ml:2,children:{.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"}[-1!==j?j:i]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{style:{width:"80%",transform:"translate(13%,0)"},children:Object(d.jsx)(C.a,{multiline:!0,variant:"outlined",fullWidth:!0,rows:10,rowsMax:10,placeholder:"tell us your experience...",onChange:function(e){f(e.target.value)},margin:"dense",name:"review",label:"write your review here",error:E,helperText:E||""})}),Object(d.jsx)(k.a,{style:{width:"20%",marginTop:"3em"},className:"review-btn",size:"small",variant:"contained",onClick:D,children:"Post it!"})]})})}var re=Object(B.a)(ce,ie);var oe=function(e){var t=Object(n.useContext)(b),s=t.authState,a=t.setAuthState,i=Object(n.useState)(),c=Object(l.a)(i,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){var t=e.match.params.businessID;O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/businessInfo?businessID="+t).then((function(e){console.log(e),o({name:e.data[0].name,rating:e.data[0].average_rating,startingTime:e.data[0].startHour,endingTime:e.data[0].endHour,category:e.data[0].business_type,reviewCount:e.data[0].review_count,priceLevel:e.data[0].cost,description:e.data[0].description,address:e.data[0].address,phone:e.data[0].phone_number,otherInfo:e.data[0].otherInfo,website:e.data[0].website,email:e.data[0].email})})),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{uploadReady:!1})}))}),[s.showReview,s.uploadReady]),Object(d.jsxs)("div",{className:"home",children:[s.showLogin?Object(d.jsx)(I,{}):null,s.showSignup?Object(d.jsx)(Q,{}):null,s.showReview?Object(d.jsx)(re,{}):null,s.showLogin||s.showSignup||s.showReview?Object(d.jsx)("div",{className:"darkened"}):null,Object(d.jsx)(h,{}),Object(d.jsx)("br",{}),r?Object(d.jsxs)("div",{children:[Object(d.jsx)(K,{name:r.name,startingTime:r.startingTime,endingTime:r.endingTime,category:r.category,rating:r.rating,reviewCount:r.reviewCount,priceLevel:r.priceLevel}),Object(d.jsx)(te,{currBusinessID:e.match.params.businessID,description:r.description,otherInfo:r.otherInfo,phone:r.phone,website:r.website,email:r.email,address:r.address})]}):null]})},le="data:image/png;base64,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";var ue=function(e){var t=e.name,s=e.startingTime,a=e.endingTime,i=e.givenCategory,c=e.rating,r=e.reviewCount,o=e.priceLevel,j=Object(n.useContext)(b),p=j.authState,h=j.setAuthState,g=Object(n.useState)(""),O=Object(l.a)(g,2),f=O[0],v=O[1],x=Object(m.useMediaQuery)({minWidth:900});function w(e){v(e.target.id);var t=e.target.id;h((function(e){return Object(u.a)(Object(u.a)({},e),{},{BusinessEdit:Object(u.a)(Object(u.a)({},e.BusinessEdit),{},{priceLevel:t})})}));for(var s=1;s<=e.target.id;s++)document.getElementById(s).style.color="black"}function y(e){var t=e.target.id;for(document.getElementById(t).style.color="black",t++;t<=5;t++)document.getElementById(t).style.color="rgb(122, 122, 122)"}var A={transform:"translate(-12%, -25%)",marginTop:0,width:"70%"};return Object(d.jsxs)("div",{className:"background",style:{padding:"2vh 2vh 2vh 2vh",marginBottom:0},onLoad:function(){v(o);for(var e=1;e<=o;e++)document.getElementById(e).style.color="black"},children:[Object(d.jsx)("div",{className:"leftContent",children:Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsxs)("div",{style:{display:"inline"},children:[Object(d.jsx)("div",{className:"fieldBackground",children:Object(d.jsx)("input",{className:"businessInput",type:"text",defaultValue:t,value:t,onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{name:e.target.value})})}))}})}),x&&Object(d.jsxs)("span",{children:[Object(d.jsx)("img",{src:le,className:"pencil"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{style:A,children:p.BusinessEditErrs.name?Object(d.jsx)(E,{errorMsg:p.BusinessEditErrs.name}):null})]}),Object(d.jsxs)("div",{style:{display:"inline"},children:[Object(d.jsxs)("div",{className:"fieldBackground",children:[Object(d.jsx)("p",{className:"fieldEditTextHeader",children:"Open"}),Object(d.jsx)("input",{type:"time",variant:"outlined",id:"startingTime",defaultValue:s,value:s,className:"timeInput",onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{startingTime:e.target.value})})}))}}),Object(d.jsx)("p",{className:"fieldEditTextHeader",children:"to"}),Object(d.jsx)("input",{type:"time",defaultValue:a,value:a,id:"endingTime",className:"timeInput",onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{endingTime:e.target.value})})}))}})]}),x&&Object(d.jsx)("img",{src:le,className:"pencil"}),Object(d.jsx)("div",{style:A,children:p.BusinessEditErrs.time?Object(d.jsx)(E,{errorMsg:p.BusinessEditErrs.time}):null})]}),Object(d.jsxs)("div",{style:{display:"inline"},children:[Object(d.jsxs)("div",{className:"fieldBackground",children:[Object(d.jsx)("p",{className:"fieldEditTextHeader",children:"Category"}),Object(d.jsx)("input",{list:"categories",id:"category",className:"categorySelect",defaultValue:i,onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{category:e.target.value})})}))}}),Object(d.jsxs)("datalist",{id:"categories",children:[Object(d.jsx)("option",{value:"Art"}),Object(d.jsx)("option",{value:"Auto"}),Object(d.jsx)("option",{value:"Entertainment"}),Object(d.jsx)("option",{value:"Education"}),Object(d.jsx)("option",{value:"Finance"}),Object(d.jsx)("option",{value:"Hardware Supplies"}),Object(d.jsx)("option",{value:"Independent"}),Object(d.jsx)("option",{value:"Personal Care"}),Object(d.jsx)("option",{value:"Pool Supplies"}),Object(d.jsx)("option",{value:"Recreation"}),Object(d.jsx)("option",{value:"Restaurant"}),Object(d.jsx)("option",{value:"Other"})]})]}),x&&Object(d.jsx)("img",{src:le,className:"pencil"}),Object(d.jsx)("div",{style:A,children:p.BusinessEditErrs.category?Object(d.jsx)(E,{errorMsg:p.BusinessEditErrs.category}):null})]})]})}),Object(d.jsxs)("div",{className:"rightContentEditing",children:[Object(d.jsxs)("div",{className:"starEditRating",children:[Object(d.jsx)(G,{value:c}),r>0&&Object(d.jsxs)("p",{style:{margin:"8px 8px"},className:"other",children:[r," Reviews"]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"fieldBackground",style:{display:"inline-block",float:"left",paddingRight:"1em"},children:Object(d.jsxs)("p",{className:"editCost",onMouseOut:function(){for(var e=1;e<=f;e++)document.getElementById(e).style.color="black";for(var t=f+1;t<=5;t++)document.getElementById(t).style.color="rgb(122, 122, 122)"},children:[Object(d.jsx)("span",{onClick:w,onMouseOver:y,id:"5",children:"$"}),Object(d.jsx)("span",{onClick:w,onMouseOver:y,id:"4",children:"$"}),Object(d.jsx)("span",{onClick:w,onMouseOver:y,id:"3",children:"$"}),Object(d.jsx)("span",{onClick:w,onMouseOver:y,id:"2",children:"$"}),Object(d.jsx)("span",{onClick:w,onMouseOver:y,id:"1",children:"$"})]})}),x&&Object(d.jsx)("img",{src:le,className:"pencil",style:{float:"left",marginTop:"20px"}})]})]})},de=s(141),je=s.n(de),be={handleClickOutside:function(){return pe.handleClickOutside}};function pe(e){var t=Object(n.useContext)(b),s=(t.authState,t.setAuthState),a=Object(n.useState)(),i=Object(l.a)(a,2),c=i[0],r=i[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),p=j[0],m=j[1],h=Object(n.useState)(""),g=Object(l.a)(h,2),f=g[0],v=g[1],x=Object(n.useState)(),w=Object(l.a)(x,2),y=w[0],A=w[1];return pe.handleClickOutside=function(e){s((function(e){return Object(u.a)(Object(u.a)({},e),{},{showYelp:!1})}))},Object(d.jsxs)("div",{className:"yelp-window",children:[Object(d.jsx)("div",{style:{width:"70%",margin:"1em auto 0.5em auto",float:"left"},class:"yelp-window-title",children:"Import from Yelp"}),Object(d.jsx)("div",{children:Object(d.jsx)(C.a,{multiline:!0,style:{width:"70%",marginBottom:"0.5em"},variant:"outlined",rows:1,rowsMax:1,placeholder:"Name",onChange:function(e){r(e.target.value)},margin:"dense",name:"business-name",label:"Business name",error:f,helperText:f})}),Object(d.jsx)("div",{children:Object(d.jsx)(C.a,{multiline:!0,style:{width:"70%"},variant:"outlined",rows:1,rowsMax:1,placeholder:"Street, City, State",onChange:function(e){m(e.target.value)},margin:"dense",name:"business-name",label:"Address",error:y,helperText:y})}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(d.jsx)("button",{className:"button",onClick:pe.handleClickOutside,children:"Cancel"}),Object(d.jsx)("button",{className:"button",onClick:function(){""==c&&""==p?(v("Fill out required field"),A("Fill out required field")):""==c?(v("Fill out required field"),A("")):""==p?(A("Fill out required field"),v("")):O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/yelpfill",{params:{name:c,address:p}}).then((function(e){if(console.log(e),e.data.error)v("Could not find that business. Ensure that the name was inputted correctly"),A("Check that the address is formatted correctly (comma-separated). Example: 3089 Edinger Ave, Tustin, CA");else{var t=e.data.display_phone,n=e.data.url.split("?")[0],a=(new Date).getDay(),i=e.data.hours[0].open[a].start.substring(0,2)+":"+e.data.hours[0].open[a].start.substring(2,5),r=e.data.hours[0].open[a].end.substring(0,2)+":"+e.data.hours[0].open[a].end.substring(2,5),o=e.data.categories[0].title,l=e.data.transactions.join(", ");s((function(e){return Object(u.a)(Object(u.a)({},e),{},{BusinessEdit:Object(u.a)(Object(u.a)({},e.BusinessEdit),{},{phone:t,startingTime:i,endingTime:r,website:n,category:o,otherInfo:l,name:c,address:p})})})),v(null),A(null),pe.handleClickOutside()}})).catch((function(e){v("Could not find that business. Ensure that the name was inputted correctly"),A("Check that the address is formatted correctly (comma-separated). Example: 3089 Edinger Ave, Tustin, CA")}))},children:"Import"})]})]})}var me=Object(B.a)(pe,be);var he=function(e){var t=e.description,s=e.otherInfo,a=e.phone,i=e.website,c=e.email,r=e.address,o=e.setEdit,l=Object(m.useMediaQuery)({minWidth:900}),j=Object(n.useContext)(b),p=j.authState,h=j.setAuthState,g="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/addBusiness",f="http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/updateBusiness";function v(){return(v=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(g,{params:{userID:p.user.userId,business_type:t.category,name:t.name,otherInfo:t.otherInfo,email:t.email,website:t.website,phone_number:t.phone,startHour:t.startingTime,endHour:t.endingTime,description:t.description,cost:t.priceLevel,address:t.address}}).then((function(e){console.log(e),h((function(e){return Object(u.a)(Object(u.a)({},e),{},{uploadReady:!0})}))}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(f,{params:{userID:p.user.userId,category:t.category,name:t.name,otherInfo:t.otherInfo,email:t.email,website:t.website,phone_number:t.phone,startHour:t.startingTime,endHour:t.endingTime,description:t.description,cost:t.priceLevel,address:t.address,businessID:t.businessID}}).then((function(e){h((function(e){return Object(u.a)(Object(u.a)({},e),{},{uploadReady:!0})}))}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("div",{className:"bottomBackground",style:{padding:"0 2vh 2vh 2vh",marginTop:"0"},children:[p.showYelp?Object(d.jsx)("div",{className:"darkened"}):null,p.showYelp?Object(d.jsx)(me,{}):null,Object(d.jsxs)("div",{style:{marginLeft:"1em",marginRight:"auto",overflowX:"hidden"},children:[Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsx)("input",{className:"button",type:"button",value:"Save",onClick:function(e){var t=function(e){var t={},s="",n=!0;e&&"string"===typeof e.name&&0!==e.name.trim().length||(n=!1,t.name="Please provide your business name.");var a=null,i=null;return a=e.startingTime?e.startingTime.slice(0,2)+e.startingTime.slice(3,e.startingTime.length):e.startHour.slice(0,2)+e.startHour.slice(3,e.startHour.length),i=e.endingTime?e.endingTime.slice(0,2)+e.endingTime.slice(3,e.endingTime.length):e.endHour.slice(0,2)+e.endHour.slice(3,e.endHour.length),(!e||i-a<=0)&&(n=!1,t.time="Start time and end time are invalid"),e.category&&(e&&"string"===typeof e.category&&0!==e.category.trim().length||(n=!1,t.category="Please provide your business category.")),e&&"string"===typeof e.description&&0!==e.description.trim().length||(n=!1,t.description="Please provide your business description."),e&&"string"===typeof e.otherInfo&&0!==e.otherInfo.trim().length||(n=!1,t.otherInfo="Please provide your business otherInfo."),e.phone&&(e&&"string"===typeof e.phone&&14===e.phone.trim().length||(n=!1,t.phone="Not a valid phone number.")),e&&"string"===typeof e.email&&T.a.isEmail(e.email)||(n=!1,t.email="Please provide a correct email address."),e&&"string"===typeof e.address&&0!==e.address.trim().length||(n=!1,t.address="Please provide a address."),e&&"string"===typeof e.website&&T.a.isURL(e.website)||(n=!1,t.website="Please provide a valid URL."),n||(s="Check the form for errors."),{success:n,message:s,errors:t}}(p.BusinessEdit);h((function(e){return Object(u.a)(Object(u.a)({},e),{},{BusinessEditErrs:t.errors})})),!0===t.success&&(console.log(p.BusinessEdit),!0===p.newBusiness?function(e){v.apply(this,arguments)}(p.BusinessEdit):function(e){y.apply(this,arguments)}(p.BusinessEdit),o(null))}}),Object(d.jsx)("input",{className:"button",type:"button",value:"Back",onClick:function(e){o(null),h((function(e){return Object(u.a)(Object(u.a)({},e),{},{BusinessEditErrs:{}})}))}})," ",!l&&Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"importButton",type:"button",value:"Import From",onClick:function(){h((function(e){return Object(u.a)(Object(u.a)({},e),{},{showYelp:!0})}))}})]}),Object(d.jsx)("hr",{className:"line",style:{width:"80em",marginTop:"1.5em"}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"businessData",style:{justifyContent:"space-between"},children:[Object(d.jsx)("div",{className:"businessInfoSection",children:Object(d.jsxs)("div",{style:{textAlign:"left"},children:[Object(d.jsxs)("div",{style:{display:"inline",whiteSpace:"nowrap"},children:[Object(d.jsx)("p",{className:"fieldEditText",style:{paddingLeft:"0px"},children:"Business Description"}),Object(d.jsx)("img",{src:le,className:"pencil"}),Object(d.jsx)("br",{})]}),Object(d.jsx)(C.a,{multiline:!0,variant:"outlined",error:p.BusinessEditErrs.description,helperText:p.BusinessEditErrs.description?p.BusinessEditErrs.description:"",rows:5,rowsMax:5,className:"textUpdate",onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{description:e.target.value})})}))},defaultValue:t.replaceAll("\\n","\r")}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{style:{display:"inline",whiteSpace:"nowrap"},children:[Object(d.jsx)("p",{className:"fieldEditText",style:{paddingLeft:"0px",marginTop:"8px"},children:"Other Information"}),Object(d.jsx)("img",{src:le,className:"pencil",style:{marginTop:"8px"}}),Object(d.jsx)("br",{})]}),Object(d.jsx)(C.a,{multiline:!0,variant:"outlined",rows:5,rowsMax:5,className:"textUpdate",error:p.BusinessEditErrs.otherInfo,helperText:p.BusinessEditErrs.otherInfo?p.BusinessEditErrs.otherInfo:"",onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{otherInfo:e.target.value})})}))},id:"otherInfo",defaultValue:s.replaceAll("\\n","\r"),value:s.replaceAll("\\n","\r")})]})}),Object(d.jsx)("div",{className:"contactSection",children:Object(d.jsxs)("div",{style:{margin:"1em 1em 0 0",padding:"0 1em 0 1em",border:"solid",borderRadius:"10px",borderWidth:"1px"},children:[Object(d.jsx)("div",{style:{display:"inline"},children:Object(d.jsxs)("div",{style:{textAlign:l?"center":"left"},children:[Object(d.jsx)("p",{className:"fieldEditText",children:"Contact"}),Object(d.jsx)("img",{src:le,className:"pencil",style:{marginTop:"7px"},id:"magicPencil"}),Object(d.jsx)("br",{})]})}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsxs)("div",{className:"contactBlue",style:{textAlign:"left"},children:[Object(d.jsx)("div",{style:{margin:"1em"},children:Object(d.jsx)(je.a,{onlyCountries:["us"],disableCountryCode:!0,label:"phone",error:p.BusinessEditErrs.phone,helperText:p.BusinessEditErrs.phone?p.BusinessEditErrs.phone:"",defaultCountry:"us",id:"phoneNumber",onChange:function(e){e,h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{phone:e})})}))},value:a})}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("div",{style:{margin:"1em"},children:Object(d.jsx)(C.a,{style:{width:"100%"},type:"text",label:"website",name:"website",className:"contactInput",error:p.BusinessEditErrs.website,helperText:p.BusinessEditErrs.website?p.BusinessEditErrs.website:"",defaultValue:i,id:"website",onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{website:e.target.value})})}))},value:i})}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("div",{style:{margin:"1em"},children:Object(d.jsx)(C.a,{style:{width:"100%"},type:"text",error:p.BusinessEditErrs.email,helperText:p.BusinessEditErrs.email?p.BusinessEditErrs.email:"",label:"email",className:"contactInput",defaultValue:c,onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{email:e.target.value})})}))}})}),Object(d.jsx)("hr",{className:"contactLine"}),Object(d.jsx)("div",{style:{margin:"1em"},children:Object(d.jsx)(C.a,{style:{width:"100%"},type:"text",label:"address",name:"address",error:p.BusinessEditErrs.address,helperText:p.BusinessEditErrs.address?p.BusinessEditErrs.address:"",className:"contactInput",defaultValue:r,value:r,onChange:function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:Object(u.a)(Object(u.a)({},t.BusinessEdit),{},{address:e.target.value})})}))}})})]})]})})]})]})]})};var ge=function(e){var t,s,a=Object(n.useContext)(b),i=a.authState;return a.setAuthState,console.log(i),Object(d.jsxs)("div",{className:"home",children:[i.showLogin?Object(d.jsx)(I,{}):null,i.showSignup?Object(d.jsx)(Q,{}):null,i.showLogin||i.showSignup?Object(d.jsx)("div",{className:"darkened"}):null,Object(d.jsx)(h,{}),Object(d.jsx)("br",{}),(t=e.business,s=e.setEdit,Object(d.jsxs)("div",{children:[Object(d.jsx)(ue,{name:t.name,startingTime:t.startingTime,endingTime:t.endingTime,givenCategory:t.category,rating:t.average_rating,reviewCount:t.reviewCount,priceLevel:t.cost}),Object(d.jsx)(he,{setEdit:s,description:t.description,otherInfo:t.otherInfo,phone:t.phone,website:t.website,email:t.email,address:t.address})]}))]})};s(292);var Oe=function(e){var t=e.text,s=e.maxLength;return Object(d.jsx)("div",{style:{textAlign:"left",fontWeight:"500",marginTop:"1em"},children:t.length>s?t.substring(0,s-3)+"...":t})};var fe=function(e){var t=Object(n.useContext)(b),s=t.authState,a=t.setAuthState,i=Object(n.useState)(),c=Object(l.a)(i,2),o=c[0],j=c[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),g=m[0],f=m[1],v=Object(n.useState)([]),x=Object(l.a)(v,2),w=x[0],y=x[1],A=Object(n.useState)([]),N=Object(l.a)(A,2),B=N[0],E=N[1],S=Object(n.useState)([]),T=Object(l.a)(S,2),C=T[0],k=T[1],P={name:"",rating:0,description:"",startHour:"00:00",endHour:"23:00",business_type:"",reviewCount:0,cost:1,otherInfo:"",phone:"",website:"",email:"",address:""};function D(e){console.log(e),e.startingTime=e.startHour,e.endingTime=e.endHour,e.category=e.business_type,e.phone=e.phone_number,e.priceLevel=e.cost,a(e==P?function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:e,newBusiness:!0})}:function(t){return Object(u.a)(Object(u.a)({},t),{},{BusinessEdit:e,newBusiness:!1})}),j(e)}return Object(n.useEffect)((function(){s.loggedIn||window.location.replace("./"),O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/getUserFavorites",{params:{userID:s.user.userId}}).then((function(e){"string"===typeof e.data?y([]):y(e.data)})),O.a.get("http://sprout-env.eba-vmpmw53n.us-west-1.elasticbeanstalk.com//api/myBusinesses",{params:{userID:s.user.userId}}).then((function(e){"string"===typeof e.data?f([]):f(e.data)})),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{uploadReady:!1})}))}),[o,s.uploadReady,s.loggedIn]),Object(n.useEffect)((function(){g.length>0?E(g.map((function(e){return Object(d.jsxs)("div",{className:"business-card",children:[Object(d.jsx)("div",{className:"business-name",children:e.name}),Object(d.jsx)("div",{className:"stars",children:Object(d.jsx)(G,{value:e.average_rating})}),Object(d.jsx)(Oe,{text:e.description,maxLength:300}),Object(d.jsx)("input",{className:"edit-button",type:"button",value:"Edit",onClick:function(){D(e)}})]})}))):E([])}),[g]),Object(n.useEffect)((function(){w.length>0?k(w.map((function(e){return Object(d.jsx)(r.b,{to:"../businesspage/"+e.businessID,style:{textDecoration:"none",color:"black"},children:Object(d.jsxs)("div",{className:"business-card",children:[Object(d.jsx)("div",{className:"business-name",children:e.name}),Object(d.jsx)("div",{className:"stars",children:Object(d.jsx)(G,{value:e.average_rating})}),Object(d.jsx)(Oe,{text:e.description,maxLength:300})]})})}))):k(Object(d.jsx)("div",{className:"business-card",children:Object(d.jsx)("div",{className:"business-name",children:"No Favorites Yet"})}))}),[w]),o?Object(d.jsx)(ge,{business:s.BusinessEdit,setEdit:j}):Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"my-businesses",children:[Object(d.jsx)("div",{className:"my-businesses-title",children:"My Businesses"}),Object(d.jsxs)("div",{className:"my-businesses-container",children:[B,Object(d.jsxs)("div",{className:"business-card add",onClick:function(){D(P)},children:[Object(d.jsx)("div",{className:"add-new",children:"Add a new business"}),Object(d.jsx)("div",{className:"plus",children:"+"})]})]})]}),Object(d.jsxs)("div",{className:"my-businesses",children:[Object(d.jsx)("div",{className:"my-businesses-title",children:"My Favorites"}),Object(d.jsx)("div",{className:"my-businesses-container",children:C})]})]})};var ve=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(p,{children:Object(d.jsx)(r.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:R}),Object(d.jsx)(o.a,{exact:!0,path:"/Discover",component:J}),Object(d.jsx)(o.a,{exact:!0,path:"/BusinessPage",component:oe}),Object(d.jsx)(o.a,{exact:!0,path:"/BusinessPageEdit",component:ge}),Object(d.jsx)(o.a,{exact:!0,path:"/BusinessPage/:businessID",component:oe}),Object(d.jsx)(o.a,{exacth:!0,path:"/dashboard",component:fe})]})})})})};c.a.render(Object(d.jsx)(ve,{}),document.getElementById("root"))},48:function(e,t,s){},55:function(e,t,s){}},[[293,1,2]]]);
//# sourceMappingURL=main.d2012876.chunk.js.map